import { f as createComponent, i as renderComponent, r as renderTemplate, u as unescapeHTML } from './astro/server_wjSD972r.mjs';
import 'kleur/colors';
import { $ as $$BlogPost } from './BlogPost_D8SgP-OX.mjs';

const html = () => "<h1 id=\"flutter-forms-validation-the-ultimateguide\">Flutter Forms Validation - the Ultimate Guide</h1>\n<p>You’ve joined an innovative new company called Prestige Worldwide to create their app using Flutter. It’s a great app that lets your users register with their email address and password. You release the app to great fanfare, it goes viral and 10,000 people register on day one.</p>\n<p>Fortune and fame await you! Sounds good so far? Not so fast, cowboy.</p>\n<p>It turns out that half of your users gave you email addresses like “<em>none of your business</em>” and “<em>you can’t have my email</em>”. The other half have passwords so weak they’re bound to be cracked within a day or two, exposing Prestige Worldwide to fraud.</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:496/format:webp/1*dMxUjJJhY_LykBjb-Tafcw.png\" alt=\"Unvalidated data => bad data in our database and unhappy users\"></p>\n<p>Alas! If only you’d put data validation into your forms, your reputation and bank balance would’ve been safe.</p>\n<p>In this tutorial, you’ll learn:</p>\n<ul>\n<li>How to implement validations without a form.</li>\n<li>How to implement validations with a form.</li>\n<li>How to implement validations on non-textfields.</li>\n<li>How to autovalidate forms on user input.</li>\n<li>How to control form flow with FocusNodes.</li>\n</ul>\n<hr>\n<blockquote>\n<p>Note: This tutorial assumes you’re already be familiar with Flutter development. If you’re new to Fluter, take a look at this <a href=\"https://github.com/Solido/awesome-flutter\" target=\"_blank\" rel=\"noopener noreferrer\">awesome list</a>, watch one of the Flutter team’s videos <a href=\"https://www.youtube.com/channel/UCwXdFgeE9KYzlDdR7TG9cMw\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>, or pick up my Flutter <a href=\"https://www.amazon.com/Flutter-App-Development-Write-Android/dp/B0D5GYDP1N\" target=\"_blank\" rel=\"noopener noreferrer\">book</a>. Hope these help you get started.</p>\n</blockquote>\n<hr>\n<h2 id=\"getting-started\">Getting Started</h2>\n<p>You can get the starter project from github <a href=\"https://github.com/rapPayne/flutter-forms-validation\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. There’s a <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/final\" target=\"_blank\" rel=\"noopener noreferrer\">completed project</a> and a <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/starter\" target=\"_blank\" rel=\"noopener noreferrer\">starter</a> so you can work along with the tutorial in the steps below.</p>\n<p>Open the starter project in Visual Studio Code or Android Studio by navigating to the starter folder. Click <em>Get dependencies</em> or <em>Get pub</em>. Build and run the app, and you will see a form that’s ready to go, except for validations.</p>\n<p><img src=\"https://miro.medium.com/v2/resize:fit:504/format:webp/1*-69nrf5QRuw0BU2hFOfnvw.png\" alt=\"Our starter, a registration form that is unvalidated\"></p>\n<p>Enter some bad data like a one-character email address and password. Tap the save floating action button in the lower right corner and look in the Debug Console. This is the message it prints:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"text\"><code><span class=\"line\"><span>The user has registered with an email address of 'null' and a </span></span>\n<span class=\"line\"><span>password of 'null'</span></span></code></pre>\n<p>Your app approved the data and pretended to submit it to your server. That’s not good! The app should refuse to submit until the data is good.\nThe best solution is to validate the data using a Flutter Form widget.</p>\n<h2 id=\"why-use-aform\">Why Use a Form?</h2>\n<p>In Flutter, you have two options for collecting user data:</p>\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n<table><thead><tr><th>Without a Form</th><th>With a Form</th></tr></thead><tbody><tr><td>Simpler but…</td><td>More complex but…</td></tr><tr><td>You have very little control over the fields</td><td>You have lots of control over the fields</td></tr><tr><td>Fields are unaware of each other</td><td>Field data can be evaluated as a group</td></tr><tr><td>Validations are manual so you have to write more code</td><td>Validations are easier because they’re declarative</td></tr></tbody></table>\n<p>You can choose an option by asking yourself a quick question: <em>Do I have a simple field or two or do I have more advanced requirements?</em> If you have a simple field or two then do yourself a favor and use the first option (No Form). You can achieve this with a <code>TextField</code> widget. If you have more advanced requirements, you’ll need a <code>Form</code> widget.\nWith that out of the way, it’s time to use a <code>Form</code> widget.</p>\n<h2 id=\"adding-aform\">Adding a Form</h2>\n<p>Open <em>Register.dart</em> and you’ll see the following:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#F97583\">@override</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#B392F0\"> build</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">BuildContext</span><span style=\"color:#E1E4E8\"> context) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#79B8FF\"> Scaffold</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    appBar</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> AppBar</span><span style=\"color:#E1E4E8\">(title</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"Prestige Worldwide Registration\"</span><span style=\"color:#E1E4E8\">)),</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // TODO 1: Wrap the body in a Form widget</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    body</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Container</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      alignment</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Alignment</span><span style=\"color:#E1E4E8\">.center,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Column</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          _buildEmailField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          _buildPasswordField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          _buildPasswordConfirmationField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          _buildAgreeToTermsField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    floatingActionButton</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> FloatingActionButton</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Icon</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">Icons</span><span style=\"color:#E1E4E8\">.save),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      onPressed</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _doRegister,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Find the line with <code>TODO 1:</code> and wrap the <code>Container</code> with <code>Form</code> like this:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#F97583\">@override</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#B392F0\"> build</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">BuildContext</span><span style=\"color:#E1E4E8\"> context) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#79B8FF\"> Scaffold</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    appBar</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> AppBar</span><span style=\"color:#E1E4E8\">(title</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"Prestige Worldwide Registration\"</span><span style=\"color:#E1E4E8\">)),</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // TODO 1: Wrap the body in a Form widget</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    body</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Form</span><span style=\"color:#E1E4E8\">(  </span><span style=\"color:#6A737D\">// &#x3C;-- Add this widget. (Don't forget to close it!)</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Container</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        alignment</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Alignment</span><span style=\"color:#E1E4E8\">.center,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Column</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            _buildEmailField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            _buildPasswordField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            _buildPasswordConfirmationField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            _buildAgreeToTermsField,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    floatingActionButton</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> FloatingActionButton</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Icon</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">Icons</span><span style=\"color:#E1E4E8\">.save),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      onPressed</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _doRegister,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>If you rebuild and run the app at this point, you won’t see any difference. Like </p><form>s on the web, <code>Form</code> doesn’t show visibly but adds a ton of capability. You access much of that capability with the <code>key</code> property.<p></p>\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*2gGRlYU7MZVn0Iqy\" style=\"width: 100%;\" alt=\"Many random keys\">\n<h2 id=\"what-arekeys\">What Are Keys?</h2>\n<p>Every Flutter widget has a key. Keys help Flutter keep track of where and how to redraw widgets most efficiently.</p>\n<p>Sometimes you assign a <code>key</code> value, but usually you can safely ignore them. Omitting unnecessary keys makes your code tighter and simpler. For example, Stateless Widgets do not require keys because their internal state never changes. Flutter already knows to redraw them only if an ancestor widget needs to be redrawn.</p>\n<p>Occasionally stateful widgets are assigned keys so Flutter knows what to redraw if its internal state changes.</p>\n<hr>\n<blockquote>\n<p>Note: Keys are an in-depth and tricky subject. If you want a deeper dive into keys, check out this <a href=\"https://www.youtube.com/watch?v=kn0EOS-ZiIc\" target=\"_blank\" rel=\"noopener noreferrer\">video</a>.</p>\n</blockquote>\n<hr>\n<p>For this article, we’re going to focus on a particular key subclass, the <code>GlobalKey</code>. These keys are specifically designed to work with <code>StatefulWidgets</code> and enable other widgets to access the widget’s state through a property called <em>currentState</em>.</p>\n<p>A form’s <code>FormState</code> has two methods, <code>validate()</code> and <code>save()</code>, which open the form’s world to data validation and interdependence.</p>\n<h2 id=\"setting-a-key-on-aform\">Setting a Key on a Form</h2>\n<p>Just above <code>build</code>, locate the line with <code>TODO 2:</code></p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 2: Add a GlobalKey</span></span>\n<span class=\"line\"></span>\n<span class=\"line\"><span style=\"color:#F97583\">@override</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#B392F0\"> build</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">BuildContext</span><span style=\"color:#E1E4E8\"> context) {</span></span></code></pre>\n<p>Add <code>GlobalKey</code> to the stateful widget as shown here:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 2: Add a GlobalKey declaration</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">GlobalKey</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#79B8FF\">FormState</span><span style=\"color:#E1E4E8\">> _key </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> GlobalKey</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#79B8FF\">FormState</span><span style=\"color:#E1E4E8\">>();</span></span></code></pre>\n<p>In the <code>Form</code>, just above <code>child</code>, add <code>key</code> and assign it the newly created <code>_key</code> variable:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">key</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _key, </span><span style=\"color:#6A737D\">// ← Add this line</span></span></code></pre>\n<p>After adding the <code>key</code> line, it’ll look like this:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">body</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Form</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  key</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _key, </span><span style=\"color:#6A737D\">// ← Add this line</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  child</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Container</span><span style=\"color:#E1E4E8\">(</span></span></code></pre>\n<p>Now that the <code>Form</code> has a <code>key</code>, you can validate the data. Even better, if validation fails for any reason, you can abort the saving and submission.</p>\n<p>Locate the <code>TODO 3:</code> in <code>_doRegister()</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#F97583\">void</span><span style=\"color:#B392F0\"> _doRegister</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // TODO 3: Add validation and saving here</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">  print</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    The user has registered with an email address of '</span><span style=\"color:#9ECBFF\">${</span><span style=\"color:#79B8FF\">_loginObject</span><span style=\"color:#9ECBFF\">[</span><span style=\"color:#9ECBFF\">'email'</span><span style=\"color:#9ECBFF\">]}</span><span style=\"color:#9ECBFF\">'</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    and a password of '</span><span style=\"color:#9ECBFF\">${</span><span style=\"color:#79B8FF\">_loginObject</span><span style=\"color:#9ECBFF\">[</span><span style=\"color:#9ECBFF\">'password'</span><span style=\"color:#9ECBFF\">]}</span><span style=\"color:#9ECBFF\">'</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">  \"\"\"</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Replace the entire <code>_doRegister</code> method with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#F97583\">void</span><span style=\"color:#B392F0\"> _doRegister</span><span style=\"color:#E1E4E8\">() {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // TODO 3: Add validation and saving here</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 1</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (_key.currentState.</span><span style=\"color:#B392F0\">validate</span><span style=\"color:#E1E4E8\">()) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // Commit the field values to their variables</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 2</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    _key.currentState.</span><span style=\"color:#B392F0\">save</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 3</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">    print</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"\"\"</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      The user has registered with an email address of '</span><span style=\"color:#9ECBFF\">${</span><span style=\"color:#79B8FF\">_loginObject</span><span style=\"color:#9ECBFF\">[</span><span style=\"color:#9ECBFF\">'email'</span><span style=\"color:#9ECBFF\">]}</span><span style=\"color:#9ECBFF\">'</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">      and a password of '</span><span style=\"color:#9ECBFF\">${</span><span style=\"color:#79B8FF\">_loginObject</span><span style=\"color:#9ECBFF\">[</span><span style=\"color:#9ECBFF\">'password'</span><span style=\"color:#9ECBFF\">]}</span><span style=\"color:#9ECBFF\">'</span></span>\n<span class=\"line\"><span style=\"color:#9ECBFF\">    \"\"\"</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  }</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Here’s a breakdown of the method updates:</p>\n<ol>\n<li>Implements the check-and-save by wrapping validation in an if statement.</li>\n<li>Attempt to save data.</li>\n<li>As of now, if validation fails, the print statement never hits. Very soon, you’ll change this when you add the validation code.</li>\n</ol>\n<h2 id=\"how-save-and-validate-work\">How save() and validate() Work</h2>\n<p>A <code>Form</code> wraps its individual fields. When the <code>Form</code> validates, all of its fields validate and when it saves, all of the fields save as well.</p>\n<p>Before adding the code to validate and save, you should review some theory.</p>\n<p>When you call <code>save()</code> on the <code>Form</code>’s state, Flutter runs <code>onSaved()</code> for each field. So you must write <code>onSaved()</code> for each field using this syntax:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">onSaved</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (val) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // Do something with 'val' here. Return nothing from the </span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // function - it's a void.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Similarly, when you call <code>validate()</code> on the <code>form</code>’s state, Flutter runs <code>validator()</code> for each field. The <code>validator()</code> syntax might look like this:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">validator</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (val) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // Test 'val' here. If it's invalid somehow, return a string,</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // an error message describing the problem. Return null if</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // the data is valid.</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Ready to include validation for your app? It’s the subject of this article, after all.\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*QxM_Y1SRKmVKJgAp\" style=\"width: 100%;\" alt=\"Woman looking through binoculars\"></p>\n<h2 id=\"validating-a-simple-textformfield\">Validating a Simple TextFormField</h2>\n<p>Add a validation method. Type this method into your class, before <code>_doRegister()</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">String</span><span style=\"color:#B392F0\"> _validateEmail</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> email) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 1</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> regex </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'\\w+@\\w+\\.\\w+'</span><span style=\"color:#E1E4E8\">); </span><span style=\"color:#6A737D\">// translates to word@word.word</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 2</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (email.isEmpty)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'We need an email address'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  else</span><span style=\"color:#F97583\"> if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">regex.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(email))</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 3</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> \"That doesn't look like an email address\"</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  else</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 4</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Here’s what this code does:</p>\n<ol>\n<li>Regular expressions can be used to match strings or parts of strings. In this case the string’s <code>r</code> prefix signifies the use of a raw string and the <code>\\w</code> is shorthand for word. So the translation for this string is <code>word@word.word</code>.</li>\n<li>For more details see the Dart <a href=\"https://api.dart.dev/stable/2.8.4/dart-core/RegExp-class.html\" target=\"_blank\" rel=\"noopener noreferrer\">RegExp docs</a>.</li>\n<li>If the email address is empty, tell the user to give you something.</li>\n<li>If what the user gives you isn’t shaped like an email address, tell them.</li>\n<li>Otherwise, what they gave you must be alright, so return a null string.</li>\n</ol>\n<p>At this point, you’re ready to associate the validator with the email field except for one problem: A <code>TextField</code> widget isn’t, strictly speaking, a <code>FormField</code>.</p>\n<p>Fortunately, Flutter provides a widget that combines the properties of a <code>TextField</code> widget and a <code>FormField</code> widget. It’s, unsurprisingly, named a <code>TextFormField</code> widget.</p>\n<hr>\n<blockquote>\n<p>Note: You can read more about these different classes and the respective properties and methods in the Flutter <a href=\"https://api.flutter.dev/flutter/material/TextField-class.html\" target=\"_blank\" rel=\"noopener noreferrer\">TextField</a>, <a href=\"https://api.flutter.dev/flutter/widgets/FormField-class.html\" target=\"_blank\" rel=\"noopener noreferrer\">FormField</a> and <a href=\"https://api.flutter.dev/flutter/material/TextFormField-class.html\" target=\"_blank\" rel=\"noopener noreferrer\">TextFormField</a> docs.</p>\n</blockquote>\n<hr>\n<p>To implement the validation you need to convert all three <code>TextField</code> widgets to <code>TextFormField</code> widgets. They’re all marked with <code>TODO 4:</code>. Find them in <code>_buildEmailField</code>, <code>_buildPasswordField</code> and <code>_buildPasswordConfirmationField</code>.</p>\n<p>Before change:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 4: Change to a TextFormField</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">return</span><span style=\"color:#79B8FF\"> TextField</span><span style=\"color:#E1E4E8\">(</span></span></code></pre>\n<p>After change:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 4: Change to a TextFormField</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">return</span><span style=\"color:#79B8FF\"> TextFormField</span><span style=\"color:#E1E4E8\">(</span></span></code></pre>\n<p>Finally, you can now validate and save your email data. In <code>_buildEmailField</code>, locate <code>TODO 5:</code> and replace it with this:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 5: Add onSaved and validator methods</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// 1</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">onSaved</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> val) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> _loginObject[</span><span style=\"color:#9ECBFF\">'email'</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> val,</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// 2</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">validator</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _validateEmail,</span></span></code></pre>\n<p>Here’s a breakdown:</p>\n<ol>\n<li>This copies the value in the field to a local variable that you’ll use later to persist the data.</li>\n<li>This attaches your <code>_validateEmail</code> to the validator property.</li>\n</ol>\n<p>After building and running your app, enter a bad email address.</p>\n<p>When you tap save an error message will show on the screen and you won’t see the Debug Console submission message.</p>\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*Wz0LKDeqTugbDQLjEECXkQ.png\" style=\"width: 100%;\" alt=\"Form with email of You can&#x27;t have my email address, yo.\">\n<p>Now build and run the app again. Put in a good email address. No error message appears on the screen, but you do see the Debug Console submission message because you haven’t implemented the password validation yet.\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*-WYGpC9nsTEuVzHH8u0UVQ.png\" style=\"width: 100%;\" alt=\"Form with email of dale.doback@prestigeWorldwide.com\"></p>\n<p>Cool, right? Let’s go validate that password!</p>\n<h2 id=\"validating-password\">Validating Password</h2>\n<p>When adding validation to the password field, you need to make sure your users’ passwords are secure. Add a new method that ensures their passwords meet your security requirements.</p>\n<p>Create a new <code>_validatePassword</code> by adding the following code after <code>_validateEmail</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">String</span><span style=\"color:#B392F0\"> _validatePassword</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> pass1) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 1</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> hasUpper </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'[A-Z]'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> hasLower </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'[a-z]'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> hasDigit </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'\\d'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> hasPunct </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'[!@#\\$&#x26;*~-]'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 2</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#79B8FF\">RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'.{8,}'</span><span style=\"color:#E1E4E8\">).</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(pass1))</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'Passwords must have at least 8 characters'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 3</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">hasUpper.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(pass1))</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'Passwords must have at least one uppercase character'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 4</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">hasLower.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(pass1))</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'Passwords must have at least one lowercase character'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 5</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">hasDigit.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(pass1))</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'Passwords must have at least one number'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 6</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">hasPunct.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(pass1))</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'Passwords need at least one special character like !@#</span><span style=\"color:#79B8FF\">\\$</span><span style=\"color:#9ECBFF\">&#x26;*~-'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 7</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>This method:</p>\n<ol>\n<li>Sets up variables for the specific password rules your app requires.</li>\n<li>Checks password length.</li>\n<li>Confirms there’s at least one uppercase character.</li>\n<li>Verifies there’s at least one lowercase character.</li>\n<li>Determines if there’s at least one number.</li>\n<li>Confirms there’s at least one special character.</li>\n<li>If the entered password passes all the checks then the method returns <code>null</code> to signify there’s no message to return.</li>\n</ol>\n<p>Now it’s time to add the new password validation to <code>_buildPassword</code>. Find <code>TODO 6:</code> and replace it with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 6: Add onSaved and validator methods to the password field</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">onSaved</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> val) </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> _loginObject[</span><span style=\"color:#9ECBFF\">'password'</span><span style=\"color:#E1E4E8\">] </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> val,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">validator</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _validatePassword,</span></span></code></pre>\n<p>Go ahead and test the password validation. All you have done so far covers validating simple fields, but what happens when two or more fields depend on each other? You’ll learn that next!</p>\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*KHZhNifkgg0iCa0V\" style=\"width: 100%;\" alt=\"Two people shaking hands\">\n<h2 id=\"validating-two-interdependent-fields\">Validating Two Interdependent Fields</h2>\n<p>The password confirmation field should be the same as the password field’s contents. Make sure they match by creating a validator that compares the two.</p>\n<p>Type this method below <code>_validatePassword</code>.</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">String</span><span style=\"color:#B392F0\"> _validatePasswordConfirmation</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> pass2) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> (pass2 </span><span style=\"color:#F97583\">==</span><span style=\"color:#E1E4E8\"> _pass1) </span><span style=\"color:#F97583\">?</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> \"The two passwords must match\"</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // Note that _pass1 is populated when a password is entered</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Now, associate this new method in <code>_buildPasswordConfirmationField</code>’s validator. Locate <code>TODO 7</code> and replace it with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 7: Validate the password confirmation here</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">validator</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _validatePasswordConfirmation,</span></span></code></pre>\n<p>As you can see, text validations are simple to add once you have the Form started. But what if the field isn’t a text field?</p>\n<h2 id=\"validating-a-field-that-isnttext\">Validating a Field That Isn’t Text</h2>\n<p>Remember, having a <code>Form</code> wrap <code>FormField</code>s is what makes all of this magic happen.\nFlutter created an awesome tool with <code>TextFormField</code> that combines a <code>TextField</code> with a <code>FormField</code>. Unfortunately, there’s nothing similar for <code>Radio</code>, <code>Checkbox</code>, <code>Slider</code> and <code>DropdownButton</code>.</p>\n<p>For these other widgets, you have to use a low-level <code>FormField</code>. Yes, it’s more complicated, but you’re a smart developer, so it’s nothing you can’t handle.</p>\n<h2 id=\"validating-acheckbox\">Validating a Checkbox</h2>\n<p>Before you update the code to do the validation, you need the validator code. Add this <code>_validateTerms</code> after <code>_validatePasswordConfirmation</code> which confirms the user has agreed to the terms:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">String</span><span style=\"color:#B392F0\"> _validateTerms</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\"> agree) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#E1E4E8\"> agree </span><span style=\"color:#F97583\">?</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#F97583\"> :</span><span style=\"color:#9ECBFF\"> \"You must agree before proceeding\"</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // It's invalid if the user hasn't opted in by checking the box</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>To use the newly created <code>_validateTerm</code>, locate <code>TODO 8:</code> in <code>_buildAgreeToTermsField</code>. Notice it’s a simple <code>Column()</code> with a <code>Row()</code> containing a <code>Checkbox</code> with <code>Text()</code>.</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\"> get</span><span style=\"color:#E1E4E8\"> _buildAgreeToTermsField {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // TODO 8: Wrap the Column with a FormField&#x3C;bool></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#79B8FF\"> Column</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">      Row</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">          Checkbox</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            value</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _agree,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            onChanged</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\"> val) </span><span style=\"color:#F97583\">=></span><span style=\"color:#B392F0\"> setState</span><span style=\"color:#E1E4E8\">(() {</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              _agree </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> val;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          ),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          const</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"I agree to the terms.\"</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      ),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Replace the entire <code>_buildAgreeToTermsField</code> with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\"> get</span><span style=\"color:#E1E4E8\"> _buildAgreeToTermsField {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // TODO 8: Wrap the Column with a FormField&#x3C;bool></span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  return</span><span style=\"color:#79B8FF\"> FormField</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\">>(</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 1</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    initialValue</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _agree,</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 2</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    builder</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">FormFieldState</span><span style=\"color:#E1E4E8\">&#x3C;</span><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\">> state) {</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">      return</span><span style=\"color:#79B8FF\"> Column</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">          Row</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            children</span><span style=\"color:#F97583\">:</span><span style=\"color:#F97583\"> &#x3C;</span><span style=\"color:#79B8FF\">Widget</span><span style=\"color:#F97583\">></span><span style=\"color:#E1E4E8\">[</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">              Checkbox</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">                // 3</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">                value</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> state.value,</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">                onChanged</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\"> val) </span><span style=\"color:#F97583\">=></span><span style=\"color:#B392F0\"> setState</span><span style=\"color:#E1E4E8\">(() {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">                  // 4</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">                  _agree </span><span style=\"color:#F97583\">=</span><span style=\"color:#E1E4E8\"> val;</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">                  // 5</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">                  state.</span><span style=\"color:#B392F0\">didChange</span><span style=\"color:#E1E4E8\">(val);</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">                }),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">              ),</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">              const</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"I agree to the terms.\"</span><span style=\"color:#E1E4E8\">),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">            ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          ),</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">          // 6</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">          state.errorText </span><span style=\"color:#F97583\">==</span><span style=\"color:#79B8FF\"> null</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          ?</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">\"\"</span><span style=\"color:#E1E4E8\">)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">          :</span><span style=\"color:#79B8FF\"> Text</span><span style=\"color:#E1E4E8\">(state.errorText, style</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> TextStyle</span><span style=\"color:#E1E4E8\">(color</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Colors</span><span style=\"color:#E1E4E8\">.red)),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">        ],</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">      );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    },</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 7</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">    validator</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> (val) </span><span style=\"color:#F97583\">=></span><span style=\"color:#B392F0\"> _validateTerms</span><span style=\"color:#E1E4E8\">(_agree),</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  );</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>This is what you just did:</p>\n<ol>\n<li>A <code>FormField</code> has an <code>initialValue</code>. You set it to a class-level private boolean.</li>\n<li>A <code>FormField</code> takes a <code>builder</code> that has a <em>state</em> representing the state of the field.</li>\n<li>The enclosed field absorbs the value of the <code>FormField</code>’s state.</li>\n<li>When it changes, set the class’s private <code>_agree</code> property and render this widget again.</li>\n<li>This triggers the <code>FormField</code> to register a change to its child’s value. Without this, the <code>FormField</code> is never told the thing it encloses has been altered.</li>\n<li>If there’s an errorText, show it. If not, show nothing. This <code>errorText</code> is set by the <code>validator</code> returning a string.</li>\n<li>And finally, call the <code>validator</code>.</li>\n</ol>\n<p>Build the app, run it and try to submit without agreeing to the terms. This is the error message you will see:\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*YUcEXW_v-UyiwORBamDRDw.png\" style=\"width: 100%;\" alt=\"Form with an unchecked I agree to terms checkbox and an error message saying You must agree before proceeding\"></p>\n<p>Once you’ve agreed to the terms, it passes the validation. As before, the simulated submission in the IDE’s debug console will display:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"text\"><code><span class=\"line\"><span>The user has registered with an email address of 'whatever email address entered' and a password of 'whatever password was entered'</span></span></code></pre>\n<h2 id=\"taking-it-a-step-further-autovalidate\">Taking it a Step Further: Autovalidate</h2>\n<p>You have enough at this point to handle any validation with some practice. But there are a couple of cool techniques that require a little code for a giant impact. One technique is autovalidation.</p>\n<p><em>Autovalidation</em> occurs when the user makes any change to the data. They don’t have to submit the form to kick off the validation: Typing one character fires the validators.</p>\n<p>Autovalidation can be annoying when the user first fills out a form. Imagine if you entered one lonely character in the first field and suddenly error messages show up for every field. Wouldn’t that feel rude?</p>\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*5b0Z3VebiW03xFRZ\" style=\"width: 100%;\" alt=\"Man stretching with woman rudely putting her hand in his face\">\n<p>But after the user tries to submit the form they would want to know if they have data problems. You want to assist them in submitting the form, not scold them for doing it wrong.</p>\n<p>So keep autovalidation off until after the first submission attempt and then only turn it on after the initial submission.</p>\n<h2 id=\"adding-autovalidation\">Adding Autovalidation</h2>\n<p>Before adding autovalidation you need to add a new variable to the top of the class just before the <code>_key</code> declaration and set it to <code>false</code>. This turns off autovalidation:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">bool</span><span style=\"color:#E1E4E8\"> _autovalidate </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> false</span><span style=\"color:#E1E4E8\">; </span><span style=\"color:#6A737D\">// Should the form validate after </span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">                            // every user action?</span></span></code></pre>\n<p>Next, turn on autovalidation by adding <code>autovalidate</code> to the <code>Form</code> above the <code>key</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#E1E4E8\">body</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> Form</span><span style=\"color:#E1E4E8\">(</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  autovalidate</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _autovalidate, </span><span style=\"color:#6A737D\">// ← Add this line</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  key</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _key,</span></span></code></pre>\n<p>At this point, validation is off by default. Turn it on by adding the following as the first thing inside <code>_doRegister()</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// After the first attempt to save, turn on autovalidate to </span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">// give quicker feedback to the user</span></span>\n<span class=\"line\"><span style=\"color:#B392F0\">setState</span><span style=\"color:#E1E4E8\">(() </span><span style=\"color:#F97583\">=></span><span style=\"color:#E1E4E8\"> _autovalidate </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> true</span><span style=\"color:#E1E4E8\">); </span><span style=\"color:#6A737D\">// ← Add this line</span></span></code></pre>\n<p>Now, after the user initially submits the form the autovalidation flag is flipped from false to true.</p>\n<p>Build and run your app. You will see if you enter bad data you won’t get feedback until you submit. Then you’ll get error messages after each change to the data no matter how small the change.</p>\n<h2 id=\"controlling-focus-with-focusnodes\">Controlling Focus With FocusNodes</h2>\n<p>You can make your forms super useful by taking advantage of your ability to direct the user’s focus on fields. For instance, when the form first comes up, the user shouldn’t have to tap the email field before entering data. It’s obvious to them that they should enter data into the fields so why not put them in the email field?</p>\n<p>Likewise, after they attempt to submit with bad data in a particular field, shouldn’t you toss their focus to that field?</p>\n<p>Set the first field a user visits by turning on <code>autofocus</code> on one field. Moving a user programmatically to another field is a little more challenging, but you can do it with a <code>FocusNode</code>.</p>\n<p>Next, you’ll create one <code>FocusNode</code> object for each field. Then call <code>requestFocus()</code> on that object to push the user’s focus there.</p>\n<h2 id=\"adding-focus-control-to-yourform\">Adding Focus Control to Your Form</h2>\n<p>To have the email field be the default first field, find <code>TODO 9</code> in <code>_buildEmailField</code> and replace it with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 9: Add autofocus</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">autofocus</span><span style=\"color:#F97583\">:</span><span style=\"color:#79B8FF\"> true</span><span style=\"color:#E1E4E8\">,</span></span></code></pre>\n<p>Stop and restart your app. You’ll realize the email field has the initial focus. No need to tap into it.</p>\n<p>Not bad, right?\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*CFSgwutONcsfOkDc3UiX2A.png\" style=\"width: 100%;\" alt=\"Form with the email address field in focus\"></p>\n<p>To place focus you need to create <code>FocusNode</code> instances. Add the following after the <code>_autovalidate</code> declaration at the top of the class:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#F97583\">final</span><span style=\"color:#79B8FF\"> FocusNode</span><span style=\"color:#E1E4E8\"> _emailFocusNode </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> FocusNode</span><span style=\"color:#E1E4E8\">();</span></span></code></pre>\n<p>Then associate this new <code>FocusNode</code> with the email field in <code>_buildEmailField()</code>. Find <code>TODO 10</code> and replace it with:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// TODO 10: Add a focusNode</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">focusNode</span><span style=\"color:#F97583\">:</span><span style=\"color:#E1E4E8\"> _emailFocusNode,</span></span></code></pre>\n<p>Now for the payoff. Find <code>_validateEmail()</code> and add this line after the <code>RegExp regex</code> line:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#6A737D\">// Add the following line to set focus to the email field</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">if</span><span style=\"color:#E1E4E8\"> (email.isEmpty </span><span style=\"color:#F97583\">||</span><span style=\"color:#F97583\"> !</span><span style=\"color:#E1E4E8\">regex.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(email))   </span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">  _emailFocusNode.</span><span style=\"color:#B392F0\">requestFocus</span><span style=\"color:#E1E4E8\">();</span></span></code></pre>\n<p>Essentially, this code says <em>If the user didn’t give an email or if what they gave is bad, give the email field focus the next time you get a chance</em>.</p>\n<p>Here’s what it looks like in context with the previously updated <code>_validateEmail</code>:</p>\n<pre class=\"astro-code github-dark\" style=\"background-color:#24292e;color:#e1e4e8; overflow-x: auto;\" tabindex=\"0\" data-language=\"dart\"><code><span class=\"line\"><span style=\"color:#79B8FF\">String</span><span style=\"color:#B392F0\"> _validateEmail</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#79B8FF\">String</span><span style=\"color:#E1E4E8\"> email) {</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 1</span></span>\n<span class=\"line\"><span style=\"color:#79B8FF\">  RegExp</span><span style=\"color:#E1E4E8\"> regex </span><span style=\"color:#F97583\">=</span><span style=\"color:#79B8FF\"> RegExp</span><span style=\"color:#E1E4E8\">(</span><span style=\"color:#9ECBFF\">r'\\w+@\\w+\\.\\w+'</span><span style=\"color:#E1E4E8\">);</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // Add the following line to set focus to the email field</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (email.isEmpty </span><span style=\"color:#F97583\">||</span><span style=\"color:#F97583\"> !</span><span style=\"color:#E1E4E8\">regex.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(email)) _emailFocusNode.</span><span style=\"color:#B392F0\">requestFocus</span><span style=\"color:#E1E4E8\">();</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">  // 2</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  if</span><span style=\"color:#E1E4E8\"> (email.isEmpty)</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> 'We need an email address'</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  else</span><span style=\"color:#F97583\"> if</span><span style=\"color:#E1E4E8\"> (</span><span style=\"color:#F97583\">!</span><span style=\"color:#E1E4E8\">regex.</span><span style=\"color:#B392F0\">hasMatch</span><span style=\"color:#E1E4E8\">(email))</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 3</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#9ECBFF\"> \"That doesn't look like an email address\"</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">  else</span></span>\n<span class=\"line\"><span style=\"color:#6A737D\">    // 4</span></span>\n<span class=\"line\"><span style=\"color:#F97583\">    return</span><span style=\"color:#79B8FF\"> null</span><span style=\"color:#E1E4E8\">;</span></span>\n<span class=\"line\"><span style=\"color:#E1E4E8\">}</span></span></code></pre>\n<p>Of course in a production app you don’t need console print outs. So for a production app remove or comment out <code>print</code> in <code>_doRegister()</code>.</p>\n<hr>\n<h2 id=\"where-to-go-fromhere\">Where to Go From Here?</h2>\n<p>That was a lot to learn! Congratulations on finishing strong. Here are your key takeaways in today’s lesson:</p>\n<ul>\n<li>Validations require a <code>Form</code> which in turn requires FormField widgets.</li>\n<li>The <code>Form</code> needs a <code>GlobalKey</code> so it can expose <code>currentState</code> that has a <code>save()</code> and a <code>validate()</code>.</li>\n<li>When <code>currentState.save()</code> is called, it looks through all of the <code>FormField</code> children and runs the field’s respective <code>onSaved()</code>.</li>\n<li>When <code>currentState.validate()</code> is called, it calls each <code>FormField</code>’s <code>validate()</code>.</li>\n<li>If all validations return a <code>null</code> you consider all of the data to be valid, but if one or more return a string, that string is interpreted to be an error message.</li>\n<li>You usually reserve the <code>currentState.save()</code> call until after all validations pass.</li>\n</ul>\n<p>As a bonus, you learned how to set focus through <code>autofocus</code> and <code>FocusNodes</code>.\nWant to learn more about Flutter forms?</p>\n<ul>\n<li>There’s a to-the-point recipe for FocusNodes in the Flutter <a href=\"https://flutter.dev/docs/cookbook/forms/focus\" target=\"_blank\" rel=\"noopener noreferrer\">FocusNode docs</a>.</li>\n<li>Learn about FocusNodes in this <a href=\"https://medium.com/flutter-commuadfsdnity/a-deep-dive-into-flutter-textfields-f0e676aaab7a\" target=\"_blank\" rel=\"noopener noreferrer\">Medium article</a>.</li>\n<li>There’s a FreeCodeCamp.org <a href=\"https://www.freecodecamp.org/forum/t/how-to-validate-forms-and-user-input-the-easy-way-using-flutter/190377\" target=\"_blank\" rel=\"noopener noreferrer\">article</a> with some good information.</li>\n<li>If you prefer books, chapter four of <a href=\"https://www.amazon.com/Flutter-App-Development-Write-Android/dp/B0D5GYDP1N\" target=\"_blank\" rel=\"noopener noreferrer\">Flutter App Development: How to Write for iOS and Android at Once</a> covers forms, fields and more. I hear that the author is a good dude.</li>\n</ul>\n<p>Check out the <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/starter\" target=\"_blank\" rel=\"noopener noreferrer\">starter</a> and <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/final\" target=\"_blank\" rel=\"noopener noreferrer\">completed</a> projects.</p>\n<p>And feel free to reach out to the <a href=\"https://linkedin.com/in/rapPayne\" target=\"_blank\" rel=\"noopener noreferrer\">author</a>. I’d love to connect with you!</p>\n<small>\nOriginally published on <a href=\"https://medium.com/flutter-community/flutter-forms-validation-the-ultimate-guide-1b469169ca6e\" target=\"_blank\" rel=\"noopener noreferrer\">Medium</a> on October 24, 2020.\n</small></form>";

				const frontmatter = {"layout":"../../layouts/BlogPost.astro","title":"Flutter Forms Validation - the Ultimate Guide","date":"2020-10-24T00:00:00.000Z","author":"Rap Payne","description":"Form validation in Flutter is wierdly complicated. Let's create a fun li'l app that validates user input.","tags":["flutter","dart"],"time-to-read":"20 minutes","url":"/blog/flutter-forms-validation","cloudinaryImageFileName":"v1745004223/phone_app_nqaqec.jpg"};
				const file = "/Users/rap/Desktop/agile-gadgets/src/pages/blog/flutter-forms-validation.md";
				const url = "/blog/flutter-forms-validation";
				function rawContent() {
					return "   \n                                    \n                                                    \n                \n                 \n                                                                                                                      \n                     \n                        \n                                   \n                                                         \n   \n\n# Flutter Forms Validation - the Ultimate Guide\nYou've joined an innovative new company called Prestige Worldwide to create their app using Flutter. It's a great app that lets your users register with their email address and password. You release the app to great fanfare, it goes viral and 10,000 people register on day one.\n\nFortune and fame await you! Sounds good so far? Not so fast, cowboy.\n\nIt turns out that half of your users gave you email addresses like \"*none of your business*\" and \"*you can't have my email*\". The other half have passwords so weak they're bound to be cracked within a day or two, exposing Prestige Worldwide to fraud.\n\n![Unvalidated data => bad data in our database and unhappy users](https://miro.medium.com/v2/resize:fit:496/format:webp/1*dMxUjJJhY_LykBjb-Tafcw.png)\n\nAlas! If only you'd put data validation into your forms, your reputation and bank balance would've been safe.\n\nIn this tutorial, you'll learn:\n- How to implement validations without a form.\n- How to implement validations with a form.\n- How to implement validations on non-textfields.\n- How to autovalidate forms on user input.\n- How to control form flow with FocusNodes.\n\n---\n> Note: This tutorial assumes you're already be familiar with Flutter development. If you're new to Fluter, take a look at this <a href=\"https://github.com/Solido/awesome-flutter\" target=\"_blank\" rel=\"noopener noreferrer\">awesome list</a>, watch one of the Flutter team's videos <a href=\"https://www.youtube.com/channel/UCwXdFgeE9KYzlDdR7TG9cMw\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>, or pick up my Flutter <a href=\"https://www.amazon.com/Flutter-App-Development-Write-Android/dp/B0D5GYDP1N\" target=\"_blank\" rel=\"noopener noreferrer\">book</a>. Hope these help you get started.\n---\n\n## Getting Started\nYou can get the starter project from github <a href=\"https://github.com/rapPayne/flutter-forms-validation\" target=\"_blank\" rel=\"noopener noreferrer\">here</a>. There's a <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/final\" target=\"_blank\" rel=\"noopener noreferrer\">completed project</a> and a <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/starter\" target=\"_blank\" rel=\"noopener noreferrer\">starter</a> so you can work along with the tutorial in the steps below.\n\nOpen the starter project in Visual Studio Code or Android Studio by navigating to the starter folder. Click *Get dependencies* or *Get pub*. Build and run the app, and you will see a form that's ready to go, except for validations.\n\n![Our starter, a registration form that is unvalidated](https://miro.medium.com/v2/resize:fit:504/format:webp/1*-69nrf5QRuw0BU2hFOfnvw.png)\n\nEnter some bad data like a one-character email address and password. Tap the save floating action button in the lower right corner and look in the Debug Console. This is the message it prints:\n\n```text\nThe user has registered with an email address of 'null' and a \npassword of 'null'\n```\n\nYour app approved the data and pretended to submit it to your server. That's not good! The app should refuse to submit until the data is good.\nThe best solution is to validate the data using a Flutter Form widget.\n\n## Why Use a Form?\nIn Flutter, you have two options for collecting user data:\n\n| Without a Form                          | With a Form                          |\n|-----------------------------------------|--------------------------------------|\n| Simpler but...                          | More complex but...                  |\n| You have very little control over the fields | You have lots of control over the fields |\n| Fields are unaware of each other        | Field data can be evaluated as a group |\n| Validations are manual so you have to write more code | Validations are easier because they're declarative |\n\n\nYou can choose an option by asking yourself a quick question: *Do I have a simple field or two or do I have more advanced requirements?* If you have a simple field or two then do yourself a favor and use the first option (No Form). You can achieve this with a `TextField` widget. If you have more advanced requirements, you'll need a `Form` widget.\nWith that out of the way, it's time to use a `Form` widget.\n\n## Adding a Form\nOpen *Register.dart* and you'll see the following:\n\n```dart\n@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    appBar: AppBar(title: Text(\"Prestige Worldwide Registration\")),\n    // TODO 1: Wrap the body in a Form widget\n    body: Container(\n      alignment: Alignment.center,\n      child: Column(\n        children: <Widget>[\n          _buildEmailField,\n          _buildPasswordField,\n          _buildPasswordConfirmationField,\n          _buildAgreeToTermsField,\n        ],\n      ),\n    ),\n    floatingActionButton: FloatingActionButton(\n      child: Icon(Icons.save),\n      onPressed: _doRegister,\n    ),\n  );\n}\n```\n\nFind the line with `TODO 1:` and wrap the `Container` with `Form` like this:\n\n```dart\n@override\nWidget build(BuildContext context) {\n  return Scaffold(\n    appBar: AppBar(title: Text(\"Prestige Worldwide Registration\")),\n    // TODO 1: Wrap the body in a Form widget\n    body: Form(  // <-- Add this widget. (Don't forget to close it!)\n      child: Container(\n        alignment: Alignment.center,\n        child: Column(\n          children: <Widget>[\n            _buildEmailField,\n            _buildPasswordField,\n            _buildPasswordConfirmationField,\n            _buildAgreeToTermsField,\n          ],\n        ),\n      ),\n    ),\n    floatingActionButton: FloatingActionButton(\n      child: Icon(Icons.save),\n      onPressed: _doRegister,\n    ),\n  );\n}\n```\n\nIf you rebuild and run the app at this point, you won't see any difference. Like <form>s on the web, `Form` doesn't show visibly but adds a ton of capability. You access much of that capability with the `key` property.\n\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*2gGRlYU7MZVn0Iqy\" style=\"width: 100%;\" alt=\"Many random keys\" />\n\n## What Are Keys?\nEvery Flutter widget has a key. Keys help Flutter keep track of where and how to redraw widgets most efficiently.\n\nSometimes you assign a `key` value, but usually you can safely ignore them. Omitting unnecessary keys makes your code tighter and simpler. For example, Stateless Widgets do not require keys because their internal state never changes. Flutter already knows to redraw them only if an ancestor widget needs to be redrawn.\n\nOccasionally stateful widgets are assigned keys so Flutter knows what to redraw if its internal state changes.\n\n---\n> Note: Keys are an in-depth and tricky subject. If you want a deeper dive into keys, check out this <a href=\"https://www.youtube.com/watch?v=kn0EOS-ZiIc\" target=\"_blank\" rel=\"noopener noreferrer\">video</a>.\n---\n\nFor this article, we're going to focus on a particular key subclass, the `GlobalKey`. These keys are specifically designed to work with `StatefulWidgets` and enable other widgets to access the widget's state through a property called *currentState*.\n\nA form's `FormState` has two methods, `validate()` and `save()`, which open the form's world to data validation and interdependence.\n\n## Setting a Key on a Form\nJust above `build`, locate the line with `TODO 2:`\n\n```dart\n// TODO 2: Add a GlobalKey\n\n@override\nWidget build(BuildContext context) {\n```\n\nAdd `GlobalKey` to the stateful widget as shown here:\n```dart\n// TODO 2: Add a GlobalKey declaration\nGlobalKey<FormState> _key = GlobalKey<FormState>();\n```\n\nIn the `Form`, just above `child`, add `key` and assign it the newly created `_key` variable:\n```dart\nkey: _key, // ← Add this line\n```\n\nAfter adding the `key` line, it'll look like this:\n```dart\nbody: Form(\n  key: _key, // ← Add this line\n  child: Container(\n```\n\nNow that the `Form` has a `key`, you can validate the data. Even better, if validation fails for any reason, you can abort the saving and submission.\n\nLocate the `TODO 3:` in `_doRegister()`:\n```dart\nvoid _doRegister() {\n  // TODO 3: Add validation and saving here\n  print(\"\"\"\n    The user has registered with an email address of '${_loginObject['email']}'\n    and a password of '${_loginObject['password']}'\n  \"\"\");\n}\n```\n\nReplace the entire `_doRegister` method with:\n```dart\nvoid _doRegister() {\n  // TODO 3: Add validation and saving here\n  // 1\n  if (_key.currentState.validate()) {\n    // Commit the field values to their variables\n    // 2\n    _key.currentState.save();\n    // 3\n    print(\"\"\"\n      The user has registered with an email address of '${_loginObject['email']}'\n      and a password of '${_loginObject['password']}'\n    \"\"\");\n  }\n}\n```\n\nHere's a breakdown of the method updates:\n1. Implements the check-and-save by wrapping validation in an if statement.\n2. Attempt to save data.\n3. As of now, if validation fails, the print statement never hits. Very soon, you'll change this when you add the validation code.\n\n## How save() and validate() Work\nA `Form` wraps its individual fields. When the `Form` validates, all of its fields validate and when it saves, all of the fields save as well.\n\nBefore adding the code to validate and save, you should review some theory.\n\nWhen you call `save()` on the `Form`'s state, Flutter runs `onSaved()` for each field. So you must write `onSaved()` for each field using this syntax:\n\n```dart\nonSaved: (val) {\n  // Do something with 'val' here. Return nothing from the \n  // function - it's a void.\n}\n```\n\nSimilarly, when you call `validate()` on the `form`'s state, Flutter runs `validator()` for each field. The `validator()` syntax might look like this:\n\n```dart\nvalidator: (val) {\n  // Test 'val' here. If it's invalid somehow, return a string,\n  // an error message describing the problem. Return null if\n  // the data is valid.\n}\n```\n\nReady to include validation for your app? It's the subject of this article, after all.\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*QxM_Y1SRKmVKJgAp\" style=\"width: 100%;\" alt=\"Woman looking through binoculars\" />\n\n## Validating a Simple TextFormField\nAdd a validation method. Type this method into your class, before `_doRegister()`:\n\n```dart\nString _validateEmail(String email) {\n  // 1\n  RegExp regex = RegExp(r'\\w+@\\w+\\.\\w+'); // translates to word@word.word\n  // 2\n  if (email.isEmpty)\n    return 'We need an email address';\n  else if (!regex.hasMatch(email))\n    // 3\n    return \"That doesn't look like an email address\";\n  else\n    // 4\n    return null;\n}\n```\n\nHere's what this code does:\n1. Regular expressions can be used to match strings or parts of strings. In this case the string's `r` prefix signifies the use of a raw string and the `\\w` is shorthand for word. So the translation for this string is `word@word.word`.\n2. For more details see the Dart <a href=\"https://api.dart.dev/stable/2.8.4/dart-core/RegExp-class.html\" target=\"_blank\"  rel=\"noopener noreferrer\">RegExp docs</a>.\n3. If the email address is empty, tell the user to give you something.\n4. If what the user gives you isn't shaped like an email address, tell them.\n5. Otherwise, what they gave you must be alright, so return a null string.\n\nAt this point, you're ready to associate the validator with the email field except for one problem: A `TextField` widget isn't, strictly speaking, a `FormField`.\n\nFortunately, Flutter provides a widget that combines the properties of a `TextField` widget and a `FormField` widget. It's, unsurprisingly, named a `TextFormField` widget.\n\n---\n> Note: You can read more about these different classes and the respective properties and methods in the Flutter <a href=\"https://api.flutter.dev/flutter/material/TextField-class.html\" target=\"_blank\"  rel=\"noopener noreferrer\">TextField</a>, <a href=\"https://api.flutter.dev/flutter/widgets/FormField-class.html\" target=\"_blank\"  rel=\"noopener noreferrer\">FormField</a> and <a href=\"https://api.flutter.dev/flutter/material/TextFormField-class.html\" target=\"_blank\"  rel=\"noopener noreferrer\">TextFormField</a> docs.\n---\n\nTo implement the validation you need to convert all three `TextField` widgets to `TextFormField` widgets. They're all marked with `TODO 4:`. Find them in `_buildEmailField`, `_buildPasswordField` and `_buildPasswordConfirmationField`.\n\nBefore change:\n```dart\n// TODO 4: Change to a TextFormField\nreturn TextField(\n```\n\nAfter change:\n```dart\n// TODO 4: Change to a TextFormField\nreturn TextFormField(\n```\n\nFinally, you can now validate and save your email data. In `_buildEmailField`, locate `TODO 5:` and replace it with this:\n```dart\n// TODO 5: Add onSaved and validator methods\n// 1\nonSaved: (String val) => _loginObject['email'] = val,\n// 2\nvalidator: _validateEmail,\n```\n\nHere's a breakdown:\n1. This copies the value in the field to a local variable that you'll use later to persist the data.\n2. This attaches your `_validateEmail` to the validator property.\n\nAfter building and running your app, enter a bad email address.\n\nWhen you tap save an error message will show on the screen and you won't see the Debug Console submission message.\n\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*Wz0LKDeqTugbDQLjEECXkQ.png\" style=\"width: 100%;\" alt=\"Form with email of You can't have my email address, yo.\" />\n\nNow build and run the app again. Put in a good email address. No error message appears on the screen, but you do see the Debug Console submission message because you haven't implemented the password validation yet.\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*-WYGpC9nsTEuVzHH8u0UVQ.png\" style=\"width: 100%;\" alt=\"Form with email of dale.doback@prestigeWorldwide.com\" />\n\nCool, right? Let's go validate that password!\n\n## Validating Password\nWhen adding validation to the password field, you need to make sure your users' passwords are secure. Add a new method that ensures their passwords meet your security requirements.\n\nCreate a new `_validatePassword` by adding the following code after `_validateEmail`:\n```dart\nString _validatePassword(String pass1) {\n  // 1\n  RegExp hasUpper = RegExp(r'[A-Z]');\n  RegExp hasLower = RegExp(r'[a-z]');\n  RegExp hasDigit = RegExp(r'\\d');\n  RegExp hasPunct = RegExp(r'[!@#\\$&*~-]');\n  // 2\n  if (!RegExp(r'.{8,}').hasMatch(pass1))\n    return 'Passwords must have at least 8 characters';\n  // 3\n  if (!hasUpper.hasMatch(pass1))\n    return 'Passwords must have at least one uppercase character';\n  // 4\n  if (!hasLower.hasMatch(pass1))\n    return 'Passwords must have at least one lowercase character';\n  // 5\n  if (!hasDigit.hasMatch(pass1))\n    return 'Passwords must have at least one number';\n  // 6\n  if (!hasPunct.hasMatch(pass1))\n    return 'Passwords need at least one special character like !@#\\$&*~-';\n  // 7\n  return null;\n}\n```\n\nThis method:\n1. Sets up variables for the specific password rules your app requires.\n2. Checks password length.\n3. Confirms there's at least one uppercase character.\n4. Verifies there's at least one lowercase character.\n5. Determines if there's at least one number.\n6. Confirms there's at least one special character.\n7. If the entered password passes all the checks then the method returns `null` to signify there's no message to return.\n\nNow it's time to add the new password validation to `_buildPassword`. Find `TODO 6:` and replace it with:\n\n```dart\n// TODO 6: Add onSaved and validator methods to the password field\nonSaved: (String val) => _loginObject['password'] = val,\nvalidator: _validatePassword,\n```\n\nGo ahead and test the password validation. All you have done so far covers validating simple fields, but what happens when two or more fields depend on each other? You'll learn that next!\n\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*KHZhNifkgg0iCa0V\" style=\"width: 100%;\" alt=\"Two people shaking hands\" />\n\n## Validating Two Interdependent Fields\nThe password confirmation field should be the same as the password field's contents. Make sure they match by creating a validator that compares the two.\n\nType this method below `_validatePassword`.\n\n```dart\nString _validatePasswordConfirmation(String pass2) {\n  return (pass2 == _pass1) ? null : \"The two passwords must match\";\n  // Note that _pass1 is populated when a password is entered\n}\n```\n\nNow, associate this new method in `_buildPasswordConfirmationField`'s validator. Locate `TODO 7` and replace it with:\n\n```dart\n// TODO 7: Validate the password confirmation here\nvalidator: _validatePasswordConfirmation,\n```\n\nAs you can see, text validations are simple to add once you have the Form started. But what if the field isn't a text field?\n\n## Validating a Field That Isn't Text\nRemember, having a `Form` wrap `FormField`s is what makes all of this magic happen.\nFlutter created an awesome tool with `TextFormField` that combines a `TextField` with a `FormField`. Unfortunately, there's nothing similar for `Radio`, `Checkbox`, `Slider` and `DropdownButton`.\n\nFor these other widgets, you have to use a low-level `FormField`. Yes, it's more complicated, but you're a smart developer, so it's nothing you can't handle.\n\n## Validating a Checkbox\nBefore you update the code to do the validation, you need the validator code. Add this `_validateTerms` after `_validatePasswordConfirmation` which confirms the user has agreed to the terms:\n```dart\nString _validateTerms(bool agree) {\n  return agree ? null : \"You must agree before proceeding\";\n  // It's invalid if the user hasn't opted in by checking the box\n}\n```\n\nTo use the newly created `_validateTerm`, locate `TODO 8:` in `_buildAgreeToTermsField`. Notice it's a simple `Column()` with a `Row()` containing a `Checkbox` with `Text()`.\n```dart\nWidget get _buildAgreeToTermsField {\n  // TODO 8: Wrap the Column with a FormField<bool>\n  return Column(\n    children: <Widget>[\n      Row(\n        children: <Widget>[\n          Checkbox(\n            value: _agree,\n            onChanged: (bool val) => setState(() {\n              _agree = val;\n            }),\n          ),\n          const Text(\"I agree to the terms.\"),\n        ],\n      ),\n    ],\n  );\n}\n```\n\nReplace the entire `_buildAgreeToTermsField` with:\n```dart\nWidget get _buildAgreeToTermsField {\n  // TODO 8: Wrap the Column with a FormField<bool>\n  return FormField<bool>(\n    // 1\n    initialValue: _agree,\n    // 2\n    builder: (FormFieldState<bool> state) {\n      return Column(\n        children: <Widget>[\n          Row(\n            children: <Widget>[\n              Checkbox(\n                // 3\n                value: state.value,\n                onChanged: (bool val) => setState(() {\n                  // 4\n                  _agree = val;\n                  // 5\n                  state.didChange(val);\n                }),\n              ),\n              const Text(\"I agree to the terms.\"),\n            ],\n          ),\n          // 6\n          state.errorText == null\n          ? Text(\"\")\n          : Text(state.errorText, style: TextStyle(color: Colors.red)),\n        ],\n      );\n    },\n    // 7\n    validator: (val) => _validateTerms(_agree),\n  );\n}\n```\n\nThis is what you just did:\n1. A `FormField` has an `initialValue`. You set it to a class-level private boolean.\n2. A `FormField` takes a `builder` that has a *state* representing the state of the field.\n3. The enclosed field absorbs the value of the `FormField`'s state.\n4. When it changes, set the class's private `_agree` property and render this widget again.\n5. This triggers the `FormField` to register a change to its child's value. Without this, the `FormField` is never told the thing it encloses has been altered.\n6. If there's an errorText, show it. If not, show nothing. This `errorText` is set by the `validator` returning a string.\n7. And finally, call the `validator`.\n\nBuild the app, run it and try to submit without agreeing to the terms. This is the error message you will see:\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*YUcEXW_v-UyiwORBamDRDw.png\" style=\"width: 100%;\" alt=\"Form with an unchecked I agree to terms checkbox and an error message saying You must agree before proceeding\" />\n\nOnce you've agreed to the terms, it passes the validation. As before, the simulated submission in the IDE's debug console will display:\n\n```text\nThe user has registered with an email address of 'whatever email address entered' and a password of 'whatever password was entered'\n```\n\n## Taking it a Step Further: Autovalidate\nYou have enough at this point to handle any validation with some practice. But there are a couple of cool techniques that require a little code for a giant impact. One technique is autovalidation.\n\n*Autovalidation* occurs when the user makes any change to the data. They don't have to submit the form to kick off the validation: Typing one character fires the validators.\n\nAutovalidation can be annoying when the user first fills out a form. Imagine if you entered one lonely character in the first field and suddenly error messages show up for every field. Wouldn't that feel rude?\n\n<img src=\"https://miro.medium.com/v2/resize:fit:720/format:webp/0*5b0Z3VebiW03xFRZ\" style=\"width: 100%;\" alt=\"Man stretching with woman rudely putting her hand in his face\" />\n\nBut after the user tries to submit the form they would want to know if they have data problems. You want to assist them in submitting the form, not scold them for doing it wrong.\n\nSo keep autovalidation off until after the first submission attempt and then only turn it on after the initial submission.\n\n## Adding Autovalidation\nBefore adding autovalidation you need to add a new variable to the top of the class just before the `_key` declaration and set it to `false`. This turns off autovalidation:\n```dart\nbool _autovalidate = false; // Should the form validate after \n                            // every user action?\n```\n\nNext, turn on autovalidation by adding `autovalidate` to the `Form` above the `key`:\n```dart\nbody: Form(\n  autovalidate: _autovalidate, // ← Add this line\n  key: _key,\n```\n\nAt this point, validation is off by default. Turn it on by adding the following as the first thing inside `_doRegister()`:\n```dart\n// After the first attempt to save, turn on autovalidate to \n// give quicker feedback to the user\nsetState(() => _autovalidate = true); // ← Add this line\n```\n\nNow, after the user initially submits the form the autovalidation flag is flipped from false to true.\n\nBuild and run your app. You will see if you enter bad data you won't get feedback until you submit. Then you'll get error messages after each change to the data no matter how small the change.\n\n## Controlling Focus With FocusNodes\n\nYou can make your forms super useful by taking advantage of your ability to direct the user's focus on fields. For instance, when the form first comes up, the user shouldn't have to tap the email field before entering data. It's obvious to them that they should enter data into the fields so why not put them in the email field?\n\nLikewise, after they attempt to submit with bad data in a particular field, shouldn't you toss their focus to that field?\n\nSet the first field a user visits by turning on `autofocus` on one field. Moving a user programmatically to another field is a little more challenging, but you can do it with a `FocusNode`.\n\nNext, you'll create one `FocusNode` object for each field. Then call `requestFocus()` on that object to push the user's focus there.\n\n## Adding Focus Control to Your Form\nTo have the email field be the default first field, find `TODO 9` in `_buildEmailField` and replace it with:\n\n```dart\n// TODO 9: Add autofocus\nautofocus: true,\n```\n\nStop and restart your app. You'll realize the email field has the initial focus. No need to tap into it.\n\nNot bad, right?\n<img src=\"https://miro.medium.com/v2/resize:fit:640/format:webp/1*CFSgwutONcsfOkDc3UiX2A.png\" style=\"width: 100%;\" alt=\"Form with the email address field in focus\" />\n\nTo place focus you need to create `FocusNode` instances. Add the following after the `_autovalidate` declaration at the top of the class:\n\n```dart\nfinal FocusNode _emailFocusNode = FocusNode();\n```\n\nThen associate this new `FocusNode` with the email field in `_buildEmailField()`. Find `TODO 10` and replace it with:\n\n```dart\n// TODO 10: Add a focusNode\nfocusNode: _emailFocusNode,\n```\n\nNow for the payoff. Find `_validateEmail()` and add this line after the `RegExp regex` line:\n\n```dart\n// Add the following line to set focus to the email field\nif (email.isEmpty || !regex.hasMatch(email))   \n  _emailFocusNode.requestFocus();\n```\n\nEssentially, this code says *If the user didn't give an email or if what they gave is bad, give the email field focus the next time you get a chance*.\n\nHere's what it looks like in context with the previously updated `_validateEmail`:\n```dart\nString _validateEmail(String email) {\n  // 1\n  RegExp regex = RegExp(r'\\w+@\\w+\\.\\w+');\n  // Add the following line to set focus to the email field\n  if (email.isEmpty || !regex.hasMatch(email)) _emailFocusNode.requestFocus();\n  // 2\n  if (email.isEmpty)\n    return 'We need an email address';\n  else if (!regex.hasMatch(email))\n    // 3\n    return \"That doesn't look like an email address\";\n  else\n    // 4\n    return null;\n}\n```\n\nOf course in a production app you don't need console print outs. So for a production app remove or comment out `print` in `_doRegister()`.\n\n---\n\n## Where to Go From Here?\n\nThat was a lot to learn! Congratulations on finishing strong. Here are your key takeaways in today's lesson:\n\n- Validations require a `Form` which in turn requires FormField widgets.\n- The `Form` needs a `GlobalKey` so it can expose `currentState` that has a `save()` and a `validate()`.\n- When `currentState.save()` is called, it looks through all of the `FormField` children and runs the field's respective `onSaved()`.\n- When `currentState.validate()` is called, it calls each `FormField`'s `validate()`.\n- If all validations return a `null` you consider all of the data to be valid, but if one or more return a string, that string is interpreted to be an error message.\n- You usually reserve the `currentState.save()` call until after all validations pass.\n\nAs a bonus, you learned how to set focus through `autofocus` and `FocusNodes`.\nWant to learn more about Flutter forms?\n\n- There's a to-the-point recipe for FocusNodes in the Flutter <a href=\"https://flutter.dev/docs/cookbook/forms/focus\" target=\"_blank\" rel=\"noopener noreferrer\">FocusNode docs</a>.\n- Learn about FocusNodes in this <a href=\"https://medium.com/flutter-commuadfsdnity/a-deep-dive-into-flutter-textfields-f0e676aaab7a\" target=\"_blank\" rel=\"noopener noreferrer\">Medium article</a>.\n- There's a FreeCodeCamp.org <a href=\"https://www.freecodecamp.org/forum/t/how-to-validate-forms-and-user-input-the-easy-way-using-flutter/190377\" target=\"_blank\" rel=\"noopener noreferrer\">article</a> with some good information.\n- If you prefer books, chapter four of <a href=\"https://www.amazon.com/Flutter-App-Development-Write-Android/dp/B0D5GYDP1N\" target=\"_blank\" rel=\"noopener noreferrer\">Flutter App Development: How to Write for iOS and Android at Once</a> covers forms, fields and more. I hear that the author is a good dude.\n\nCheck out the <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/starter\" target=\"_blank\" rel=\"noopener noreferrer\">starter</a> and <a href=\"https://github.com/rapPayne/flutter-forms-validation/tree/master/final\" target=\"_blank\" rel=\"noopener noreferrer\">completed</a> projects.\n\nAnd feel free to reach out to the <a href=\"https://linkedin.com/in/rapPayne\" target=\"_blank\" rel=\"noopener noreferrer\">author</a>. I'd love to connect with you!\n\n<small>\nOriginally published on <a href=\"https://medium.com/flutter-community/flutter-forms-validation-the-ultimate-guide-1b469169ca6e\" target=\"_blank\" rel=\"noopener noreferrer\">Medium</a> on October 24, 2020.\n</small>";
				}
				async function compiledContent() {
					return await html();
				}
				function getHeadings() {
					return [{"depth":1,"slug":"flutter-forms-validation-the-ultimateguide","text":"Flutter Forms Validation - the Ultimate Guide"},{"depth":2,"slug":"getting-started","text":"Getting Started"},{"depth":2,"slug":"why-use-aform","text":"Why Use a Form?"},{"depth":2,"slug":"adding-aform","text":"Adding a Form"},{"depth":2,"slug":"what-arekeys","text":"What Are Keys?"},{"depth":2,"slug":"setting-a-key-on-aform","text":"Setting a Key on a Form"},{"depth":2,"slug":"how-save-and-validate-work","text":"How save() and validate() Work"},{"depth":2,"slug":"validating-a-simple-textformfield","text":"Validating a Simple TextFormField"},{"depth":2,"slug":"validating-password","text":"Validating Password"},{"depth":2,"slug":"validating-two-interdependent-fields","text":"Validating Two Interdependent Fields"},{"depth":2,"slug":"validating-a-field-that-isnttext","text":"Validating a Field That Isn’t Text"},{"depth":2,"slug":"validating-acheckbox","text":"Validating a Checkbox"},{"depth":2,"slug":"taking-it-a-step-further-autovalidate","text":"Taking it a Step Further: Autovalidate"},{"depth":2,"slug":"adding-autovalidation","text":"Adding Autovalidation"},{"depth":2,"slug":"controlling-focus-with-focusnodes","text":"Controlling Focus With FocusNodes"},{"depth":2,"slug":"adding-focus-control-to-yourform","text":"Adding Focus Control to Your Form"},{"depth":2,"slug":"where-to-go-fromhere","text":"Where to Go From Here?"}];
				}

				const Content = createComponent((result, _props, slots) => {
					const { layout, ...content } = frontmatter;
					content.file = file;
					content.url = url;

					return renderTemplate`${renderComponent(result, 'Layout', $$BlogPost, {
								file,
								url,
								content,
								frontmatter: content,
								headings: getHeadings(),
								rawContent,
								compiledContent,
								'server:root': true,
							}, {
								'default': () => renderTemplate`${unescapeHTML(html())}`
							})}`;
				});

const __vite_glob_0_2 = /*#__PURE__*/Object.freeze(/*#__PURE__*/Object.defineProperty({
	__proto__: null,
	Content,
	compiledContent,
	default: Content,
	file,
	frontmatter,
	getHeadings,
	rawContent,
	url
}, Symbol.toStringTag, { value: 'Module' }));

export { __vite_glob_0_2 as _ };
